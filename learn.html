<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>دروس اللغة العربية</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {
            font-family: 'Traditional Arabic', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {max-width: 1200px; margin: 0 auto;}
        
        /* Audio Overlay */
        .audio-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 10000;
            display: flex; align-items: center; justify-content: center;
        }
        .audio-overlay.hidden {display: none;}
        .audio-overlay-content {
            background: white; padding: 60px; border-radius: 20px;
            text-align: center; max-width: 500px;
        }
        .audio-overlay-content h2 {color: #667eea; font-size: 2.5em; margin-bottom: 20px;}
        .audio-activate-btn {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white; border: none; padding: 20px 50px; border-radius: 30px;
            font-size: 1.8em; cursor: pointer; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        /* Navigation */
        .top-nav {
            position: fixed; top: 20px; right: 20px; z-index: 1000;
        }
        .nav-btn {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white; border: none; padding: 12px 20px; border-radius: 25px;
            cursor: pointer; font-size: 1em; text-decoration: none;
            display: inline-block; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        header {
            background: white; padding: 30px; border-radius: 15px;
            text-align: center; margin-top: 80px; margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {color: #667eea; font-size: 2.5em; margin-bottom: 10px;}
        
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .module-card {
            background: white; padding: 25px; border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            cursor: pointer; transition: transform 0.3s;
        }
        .module-card:hover {transform: translateY(-5px);}
        .module-card h2 {color: #667eea; font-size: 1.8em; margin-bottom: 15px;}
        
        .lesson-content {
            background: white; padding: 30px; border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: none;
        }
        .lesson-content.active {display: block;}
        
        .alphabet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px; margin: 20px 0;
        }
        .letter-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 20px; border-radius: 15px; text-align: center;
            cursor: pointer; transition: transform 0.3s; color: white;
        }
        .letter-card:hover {transform: scale(1.1);}
        .arabic-letter {font-size: 2.5em; margin-bottom: 5px;}
        .letter-name {font-size: 1em;}
        
        @media (max-width: 768px) {
            .modules-grid {grid-template-columns: 1fr;}
        }
    </style>
</head>
<body>
    <!-- Audio Overlay -->
    <div class="audio-overlay" id="audioOverlay">
        <div class="audio-overlay-content">
            <h2>🔊 تفعيل الصوت</h2>
            <p style="font-size:1.3em;margin-bottom:30px;">اضغط الزر لتفعيل الصوت</p>
            <button class="audio-activate-btn" id="activateAudioBtn">🎤 ابدأ التعلم</button>
        </div>
    </div>

    <!-- Navigation -->
    <div class="top-nav">
        <a href="index.html" class="nav-btn">📖 صفحة القرآن</a>
    </div>

    <div class="container">
        <header>
            <h1>🌙 تعلم اللغة العربية</h1>
            <p>رحلتك لإتقان اللغة العربية</p>
        </header>

        <!-- Home View -->
        <div id="homeView">
            <div class="modules-grid">
                <div class="module-card" onclick="showAlphabet()">
                    <h2>📚 الحروف الأبجدية</h2>
                    <p>تعلم 28 حرفاً في اللغة العربية</p>
                    <button style="width:100%;padding:12px;background:#667eea;color:white;border:none;border-radius:25px;font-size:1.1em;margin-top:15px;cursor:pointer;">ابدأ التعلم</button>
                </div>
            </div>
        </div>

        <!-- Alphabet Lesson -->
        <div id="alphabetLesson" class="lesson-content">
            <button onclick="showHome()" style="padding:10px 20px;background:#666;color:white;border:none;border-radius:20px;margin-bottom:20px;cursor:pointer;">← العودة</button>
            <h2>📚 تعلم الحروف الأبجدية العربية</h2>
            <p style="margin:10px 0;">انقر على كل حرف لسماع نطقه</p>
            <div class="alphabet-grid" id="alphabetGrid"></div>
        </div>
    </div>

    <script>
        const arabicLetters = [
            {letter: 'ا', name: 'ألف'}, {letter: 'ب', name: 'باء'}, {letter: 'ت', name: 'تاء'},
            {letter: 'ث', name: 'ثاء'}, {letter: 'ج', name: 'جيم'}, {letter: 'ح', name: 'حاء'},
            {letter: 'خ', name: 'خاء'}, {letter: 'د', name: 'دال'}, {letter: 'ذ', name: 'ذال'},
            {letter: 'ر', name: 'راء'}, {letter: 'ز', name: 'زاي'}, {letter: 'س', name: 'سين'},
            {letter: 'ش', name: 'شين'}, {letter: 'ص', name: 'صاد'}, {letter: 'ض', name: 'ضاد'},
            {letter: 'ط', name: 'طاء'}, {letter: 'ظ', name: 'ظاء'}, {letter: 'ع', name: 'عين'},
            {letter: 'غ', name: 'غين'}, {letter: 'ف', name: 'فاء'}, {letter: 'ق', name: 'قاف'},
            {letter: 'ك', name: 'كاف'}, {letter: 'ل', name: 'لام'}, {letter: 'م', name: 'ميم'},
            {letter: 'ن', name: 'نون'}, {letter: 'ه', name: 'هاء'}, {letter: 'و', name: 'واو'},
            {letter: 'ي', name: 'ياء'}
        ];

        let audioEnabled = false;
        let arabicVoice = null;

        // Initialize audio
        function initAudio() {
            if ('speechSynthesis' in window) {
                const voices = window.speechSynthesis.getVoices();
                if (voices.length > 0) {
                    arabicVoice = voices.find(v => v.lang.startsWith('ar'));
                } else {
                    window.speechSynthesis.onvoiceschanged = () => {
                        const newVoices = window.speechSynthesis.getVoices();
                        arabicVoice = newVoices.find(v => v.lang.startsWith('ar'));
                    };
                }
            }
        }

        // Activate audio
        document.getElementById('activateAudioBtn').addEventListener('click', function() {
            audioEnabled = true;
            document.getElementById('audioOverlay').classList.add('hidden');
            
            if ('speechSynthesis' in window) {
                const test = new SpeechSynthesisUtterance('مرحبا');
                if (arabicVoice) test.voice = arabicVoice;
                test.lang = 'ar-SA';
                window.speechSynthesis.speak(test);
            }
        });

        // Play sound
        function playSound(text) {
            if (!audioEnabled) return;
            
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                if (arabicVoice) utterance.voice = arabicVoice;
                utterance.lang = 'ar-SA';
                utterance.rate = 0.7;
                window.speechSynthesis.speak(utterance);
            }
        }

        // Navigation
        function showHome() {
            document.getElementById('homeView').style.display = 'block';
            document.getElementById('alphabetLesson').classList.remove('active');
        }

        function showAlphabet() {
            document.getElementById('homeView').style.display = 'none';
            document.getElementById('alphabetLesson').classList.add('active');
            loadAlphabet();
        }

        // Load alphabet
        function loadAlphabet() {
            const grid = document.getElementById('alphabetGrid');
            grid.innerHTML = '';
            
            arabicLetters.forEach(letter => {
                const card = document.createElement('div');
                card.className = 'letter-card';
                card.innerHTML = `
                    <div class="arabic-letter">${letter.letter}</div>
                    <div class="letter-name">${letter.name}</div>
                `;
                card.onclick = () => playSound(letter.letter);
                grid.appendChild(card);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initAudio();
        });
    </script>
</body>
</html>
