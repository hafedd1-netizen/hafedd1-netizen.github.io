<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>دروس اللغة العربية - تمارين تفاعلية</title>
<style>
  body {
    font-family: 'Traditional Arabic', Arial, sans-serif;
    background: #667eea;
    margin: 0;
    padding: 15px;
    color: #333;
    direction: rtl;
  }
  .container {
    max-width: 900px;
    margin: 0 auto;
    background: white;
    border-radius: 10px;
    padding: 20px;
  }
  h1 {
    color: #344eeb;
    text-align: center;
    margin-bottom: 15px;
  }
  .exercise {
    margin-bottom: 15px;
    padding: 10px;
    border-bottom: 1px solid #ddd;
  }
  .pagination {
    text-align: center;
    margin-top: 20px;
  }
  .page-btn {
    cursor: pointer;
    padding: 8px 18px;
    margin: 3px;
    border-radius: 8px;
    background: #667eea;
    color: white;
    border: none;
    font-size: 16px;
  }
  .page-btn.disabled {
    background: #a5b1ff;
    cursor: default;
  }
  button.answer-btn {
    margin-top: 8px;
    cursor: pointer;
    background: #28a745;
    border: none;
    color: white;
    padding: 6px 15px;
    border-radius: 7px;
  }
  .result {
    margin-top: 5px;
    font-weight: bold;
    min-height: 20px;
  }
</style>
</head>
<body>

<div class="container">
  <h1>تمارين اللغة العربية التفاعلية</h1>
  <div id="exercisesContainer"></div>

  <div class="pagination" id="pagination"></div>
</div>

<script>
  // مثال على تمارين بسيطة، لمزيد من التمارين يمكنك التوسيع على هذا المصفوفة
  const exercises = [];
  for(let i=1; i<=120; i++){
    exercises.push({
      question: `ما هو معنى الكلمة رقم ${i}؟`,
      options: ['معنى 1', 'معنى 2', 'معنى 3', 'معنى 4'],
      correctIndex: i % 4
    });
  }

  const exercisesPerPage = 10; // عدد التمارين في الصفحة
  let currentPage = 1;
  const totalPages = Math.ceil(exercises.length / exercisesPerPage);

  function renderExercises(page){
    const container = document.getElementById('exercisesContainer');
    container.innerHTML = '';
    const start = (page-1)*exercisesPerPage;
    const end = Math.min(start + exercisesPerPage, exercises.length);
    for(let i=start; i<end; i++){
      const ex = exercises[i];
      const exDiv = document.createElement('div');
      exDiv.className = 'exercise';
      exDiv.innerHTML = `<div><strong>${i+1}. ${ex.question}</strong></div>
        <div>
          ${ex.options.map((opt, idx) =>
            `<label style="display:block;margin-top:5px">
              <input type="radio" name="q${i}" value="${idx}"> ${opt}
             </label>`).join('')}
        </div>
        <button class="answer-btn" onclick="checkAnswer(${i}, this)">تحقق</button>
        <div class="result" id="result${i}"></div>`;
      container.appendChild(exDiv);
    }
    renderPagination(page);
  }

  function renderPagination(page){
    const pagination = document.getElementById('pagination');
    pagination.innerHTML = '';

    const prevBtn = document.createElement('button');
    prevBtn.className = 'page-btn';
    prevBtn.textContent = 'السابق';
    prevBtn.disabled = page === 1;
    if(prevBtn.disabled) prevBtn.classList.add('disabled');
    prevBtn.onclick = () => {
      if(currentPage > 1){
        currentPage--;
        renderExercises(currentPage);
      }
    };
    pagination.appendChild(prevBtn);

    for(let i = 1; i <= totalPages; i++){
      const btn = document.createElement('button');
      btn.className = 'page-btn ' + (i === page ? 'disabled' : '');
      btn.textContent = i;
      if(i !== page){
        btn.onclick = () => {
          currentPage = i;
          renderExercises(i);
        };
      }
      pagination.appendChild(btn);
    }

    const nextBtn = document.createElement('button');
    nextBtn.className = 'page-btn';
    nextBtn.textContent = 'التالي';
    nextBtn.disabled = page === totalPages;
    if(nextBtn.disabled) nextBtn.classList.add('disabled');
    nextBtn.onclick = () => {
      if(currentPage < totalPages){
        currentPage++;
        renderExercises(currentPage);
      }
    };
    pagination.appendChild(nextBtn);
  }

  function checkAnswer(exIndex, btn){
    const inputs = document.getElementsByName(`q${exIndex}`);
    let selected = -1;
    for(let input of inputs){
      if(input.checked){
        selected = parseInt(input.value);
        break;
      }
    }
    if(selected === -1){
      alert('يرجى اختيار إجابة أولاً');
      return;
    }
    const resultDiv = document.getElementById(`result${exIndex}`);
    if(selected === exercises[exIndex].correctIndex){
      resultDiv.textContent = '✅ إجابة صحيحة!';
      resultDiv.style.color = 'green';
    } else {
      resultDiv.textContent = '❌ إجابة خاطئة!';
      resultDiv.style.color = 'red';
    }
    // تعطيل التحقق لتجنب تعديل الإجابة
    btn.disabled = true;
  }

  // بدء العرض
  renderExercises(currentPage);
</script>

</body>
</html>
